## 네트워크 면접 질문

#### 1. TCP/IP 4계층 모델을 중심으로 네트워크 모델에 대해서 설명해주세요

인터넷 프로토콜 스위트(Internet protocol suite)를 4계층으로 설명한 것입니다.

> **인터넷 프로토콜 스위트(Internet protocol suite)**
> 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합
> TCP/IP 4계층으로 설명하거나, OSI 7계층으로 설명하기도 합니다.

TCP/IP 4계층은 `애플리케이션 계층`, `전송 계층`, `인터넷 계층`, `링크 계층`으로 이루어져 있습니다. 각 계층은 변경 되었을 때 다른 계층이 영향을 받지 않도록 설계 되어 있습니다.

각 계층은 다음과 같습니다.

- **애플리케이션 계층**
  - 응용 프로그램이 사용되는 프로토콜 계층이며, 이메일, 웹 서비스 등 실질적으로 사람들에게 제공하는 층입니다.
  - FTP, HTTP, SMTP, DNS, SSH
- **전송 계층**
  - 송신자와 수신자를 연결하는 통신 서비스를 제공합니다.
  - TCP, UDP, QUIC
- **인터넷 계층**
  - 장치로부터 받은 네트워크 패킷을 IP 주소로 지정된 목적지로 전송하는 계층입니다.
  - 비연결적인 특징을 가지고 있습니다.
  - IP/ARP/ICMP
- **링크 계층**
  - 전선, 광섬유, 무선 등으로 실질적으로 데이터를 전달하며 장치 간 신호를 주고받는 규칙을 정하는 계층입니다.
  - 물리 계층과 데이터 링크 계층 두 가지로 나눌 수 있습니다.
    - `물리 계층`: 무선 LAN과 유선 LAN으로 0과 1로 이루어진 데이터를 보냅니다.
    - `데이터 링크 계층`: 이더넷 프레임을 통해 에러 확인, 흐름 제어, 접근 제어를 담당합니다.
  - 이더넷

<br />

#### 2. 3-way handshake에 대해서 설명해주세요

3-way handshake는 TCP 프로토콜을 통해 데이터를 전송할 때 신뢰성을 확보하기 위한 방법입니다.

![3-way handshake](https://images.velog.io/images/xx0hn/post/b8c269b8-760a-4d5a-9b87-ba0dbe9d0c62/what-is-a-tcp-3-way-handshake-process-three-way-handshaking-establishing-connection-6a724e77ba96e241.jpeg)

클라이언트와 서버가 통신할 때 위와 같이 3단계의 통신을 거칩니다.

1. **SYN 단계**: 클라이언트는 서버에 클라이언트의 ISN을 담아 SYN을 보냅니다.
2. **SYN + ACK 단계**: 서버는 클라이언트의 SYN을 수신하고, 서버의 ISN과 승인 번호(클라이언트 ISN + 1)를 보냅니다.
3. **ACK 단계**: 클라이언트는 승인 번호(서버 ISN + 1)를 담아 ACK을 서버에 보냅니다.

> ISN
> 새로운 TCP 연결의 첫 번째 패킷에 할당된 임의의 시퀀스 번호를 말하며 장치마다 다를 수 있습니다.

이렇게 3-way handshake를 통해서 IP 패킷의 비연결성을 보완하며 `데이터 전달을 보증`할 수 있고, 패킷이 순서대로 도착하지 않으면 TCP 세그먼트의 정보를 토대로 다시 패킷에 정보를 요청하여 `비신뢰성을 보완`할 수 있습니다. 대신 데이터 전달 전 3-way handshake를 해야하므로 이를 사용하지 않는 UDP에 비해 속도가 느립니다.

<br />

#### 3. IP 주소에 대해서 설명해주세요

클라이언트와 서버가 통신할 때 컴퓨터에 인터넷 프로토콜(IP)를 부여하여 통신합니다.  
IP는 지정한 IP 주소에 패킷(Packet)이라는 통신 단위로 데이터를 전달합니다.
<br />

IP 주소 체계는 IPv4와 IPv6로 나뉩니다.

- **IPv4**
  - 32비트를 8비트 단위로 점을 찍어 표기합니다.
    ex) 127.0.0.1
- **IPv6**
  - 64비트를 16비트 단위로 점을 찍어 표기합니다.
    ex) 2001:db8:ff00:42:8329
    <br />

IP 주소를 이용해 통신하는 과정을 `홉바이홉(hop by hop)` 통신이라고 합니다. 각 라우팅 테이블의 IP를 기반으로 패킷을 전달하고 다시 전달해나갑니다.
<br />

IP 주소는 `비연결성`과 `비신뢰성`이라는 한계가 있습니다.

- **비연결성**
  - 패킷을 받을 대상이 없거나, 서비스 불능 상태여도 패킷을 전송합니다.
    클라이언트는 서버의 상태를 파악할 방법이 없으므로, 패킷을 그대로 전송합니다.
- **비신뢰성**
  - 클라이언트가 의도하지 않은 순서로 서버에 패킷이 도착할 수 있습니다.
  - 전달 데이터의 용량이 크면 패킷 단위로 데이터를 나누어 전달합니다. 이 패킷들이 중간에 다른 노드들을 통해 전달될 수 있고, 그러면 순서가 달라질 수 있습니다.

<br />

#### 4. HTTP의 각 버전에 대해서 설명해주세요

HTTP는 애플리케이션 계층으로서 `웹 서비스 통신`에 사용됩니다.

- **HTTP/1.0**

  - TCP 위에서 돌아갑니다.
  - 한 연결당 하나의 요청을 처리합니다.
    - 서버와 한 번 통신할 때마다 TCP 3-way handshake를 열어야 했기 때문에 RTT가 증가했습니다.

  > RTT
  > 패킷이 목적지에 도달하고 나서 다시 출발지로 돌아오기까지 걸리는 시간이며 패킷 왕복 시간

- **HTTP/1.1**
  - TCP 위에서 돌아갑니다.
  - `keep alive`라는 옵션으로 매번 TCP 연결을 하지 않아도 한 번에 TCP 초기화를 한 후 여러 파일을 송수신 할 수 있게 바뀌었습니다.
- **HTTP/2**
  - TCP 위에서 돌아갑니다.
  - 이전 버전보다 지연시간을 줄이고 응답시간을 더 빠르게 할 수 잇습니다.
    - `멀티 플렉싱`을 사용합니다. (여러 스트림으로 송수신)
    - `헤더를 압축`합니다. (허프만 압축 알고리즘을 이용)
  - HTTPS가 HTTP/2 위에서 동작합니다.
- **HTTP/3**
  - 이전 버전과 달리 `UDP` 기반으로 돌아가며, `QUIC`이라는 계층 위에서 돌아갑니다.
    - 첫 연결 설정에 1-RTT만 소요됩니다.
    - QUIC의 `순방향 오류 수정 매커니즘`이 적용되어 낮은 패킷 손실율을 가집니다.
  - HTTP/2의 장점 중 `멀티 플렉싱`을 사용합니다. 이를 통해 초기 연결 설정 시 지연 시간을 감소합니다.

<br />

#### 5. HTTP와 HTTPS의 차이점에 대해서 설명해주세요

<br />
